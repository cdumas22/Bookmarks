define(["backbone","radio"],function(e,t){return e.Model.extend({urlRoot:"/tags",idAttribute:"_id",defaults:{name:null,parentId:null},initialize:function(){t(this.get("_id")+":update").subscribe([this.serverChange,this]),t(this.get("_id")+":delete").subscribe([this.serverDelete,this])},getChildren:function(){if(!this.collection)return null;var e=this.get("_id");this.collection.filter(function(t){return t.get("parentId")===e})},serverChange:function(e){this.set(e)},serverDelete:function(e){t(this.get("_id")+":update").unsubscribe(this.serverChange),t(this.get("_id")+":delete").unsubscribe(this.serverDelete),this.collection?this.collection.remove(this):(this.trigger("destroy",this),this.trigger("remove",this))}})});